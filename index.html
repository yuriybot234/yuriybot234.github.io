<!DOCTYPE html>
<html>
<head>
    <title>Auction Homepage</title>

    <link rel="stylesheet" href="assets/css/bootstrap.min.css">

    <script type="text/javascript">
        function ajax_get_json(){
            var results = document.getElementById("results");

            var prd = new XMLHttpRequest();
            prd.open("GET", "search-results.json", true);
            prd.setRequestHeader("Content-type", "application/json", true);
            prd.onreadystatechange = function() {
                if(prd.readyState == 4 && prd.status == 200)
                {
                    var data = JSON.parse(prd.responseText);

                    var columns = 2;
                    var j = 0;
                    var str = "";
                    results.innerHTML = "";

                    str += "<table><tr>";

                    for (var i = 0; i < data.items.length; i++)
                    {
                        var counter = data.items[i];

                        var prdImage = "<img width=225 height=225 src=" + counter.thumb + " />";

                        if (j <= columns)
                        {
                            str +="<td>" + "<table width='459'> <tr> <td width='225' height='225'>" + prdImage + "</td> <td width='225' height='225'> <h1>" + counter.title + "</h1> <h4>" + counter.description + "</h4> </td> </tr> </table> <table width='459'> <tr> <td width='150' height='80' align='center'>  <h1>" + counter.timeleft + "h left </h1> <h3>Today: 12:53 </h3> </td> <td width='150' height='80' align='center'> <h1>" + counter.watchers + "</h1> <h3>Watchers</h3> </td> <td width='150' height='80' align='center'> <h1> $" + counter.price + "</h1> <h3> Current Price </h3> </td> </tr> </table>"+"</td>";
                            j++;
                        }

                        //when j reaches 2, it means columns 0 and 1 have been created
                        if (j==columns ) {
                            str += '<tr></tr><tr>';
                            j=0;
                        }
                    }
                    str += '</tr></table>';

                    results.innerHTML = str;

                    }
            }
            prd.send(null);
            results.innerHTML = "requesting...";
        }
    </script>

</head>
<body>

<!-- Navbar -->
<div class="navbar navbar-inverse">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="javascript:void(0);">ABC Auction</a>
        </div>
        <div class="navbar-collapse collapse">
            <form class="navbar-form navbar-left navbar-input-group" role="search">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Enter product name">
                </div>

                <!--The button below was of type "submit" but was changed to "button" to switch divs-->
                <button type="button" class="btn btn-default" onclick="hideshow(document.getElementById('carouselDiv'), document.getElementById('resultsDiv'))">Search</button>

            </form>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="javascript:void(0)"><span class="glyphicon glyphicon-question-sign"></span> Help</a>
                </li>
                <li><a href="javascript:void(0);"><span class="glyphicon glyphicon-user"></span> Login</a></li>
                <li><a href="javascript:void(0)"><span class="glyphicon glyphicon-shopping-cart"></span> Shopping
                    cart</a></li>
            </ul>
        </div>
    </div>
</div>
<!-- / Navbar -->

<div class="container">

    <div id="carouselDiv" style = "display:block">

    <div class="row">
        <!-- Featured Products -->

        <div id="featured-product-carousel" class="carousel slide" data-pause="hover" data-wrap="true"
             data-interval="3000">
            <ol class="carousel-indicators">
                <li data-target="#featured-product-carousel" data-slide-to="0" class="active"></li>
                <li data-target="#featured-product-carousel" data-slide-to="1" class=""></li>
                <li data-target="#featured-product-carousel" data-slide-to="2" class=""></li>
            </ol>
            <div class="carousel-inner">
                <div class="item active">
                    <img src="assets/img/promo-product-1.jpg" alt="ABC Auction Deals" class="img-responsive center-block">
                </div>
                <div class="item">
                    <img src="assets/img/promo-product-2.jpg" alt="ABC Auction Deals" class="img-responsive center-block">
                </div>
                <div class="item">
                    <img src="assets/img/promo-product-3.jpg" alt="ABC Auction Deals" class="img-responsive center-block">
                </div>
            </div>

            <!-- Controls -->
            <a class="left carousel-control" href="#featured-product-carousel" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left"></span>
            </a>
            <a class="right carousel-control" href="#featured-product-carousel" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right"></span>
            </a>
        </div>

        <!-- / Featured Products -->
    </div>

    <br/><br/>
    <div class="row">
        <!-- Featured Products list with thumbnails and description  -->
        <ul class="list-unstyled">
            <li class="col-sm-4">
                <div class="col-md-4">
                    <a href="javascript:void(0)"><img src="assets/img/01.jpg" alt="" class="img-responsive"></a>
                </div>

                <div class="product-description-holder col-md-8">
                    <h2><a href="javascript:void(0)">Item's title</a></h2>

                    <p>
                        <b>Item's description:</b> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
                        eiusmod
                        tempor
                        incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                        ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.
                    </p>
                </div>
            </li>
            <li class="col-sm-4">
                <div class="col-md-4">
                    <a href="javascript:void(0)"><img src="assets/img/02.jpg" alt="" class="img-responsive"></a>
                </div>

                <div class="col-md-8">
                    <h2><a href="javascript:void(0)">Item's title</a></h2>

                    <p>
                        <b>Item's description:</b> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
                        eiusmod
                        tempor
                        incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                        ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.
                    </p>
                </div>
            </li>
            <li class="col-sm-4">
                <div class="col-md-4">
                    <a href="javascript:void(0)"><img src="assets/img/03.jpg" alt="" class="img-responsive"></a>
                </div>

                <div class="col-md-8">
                    <h2><a href="javascript:void(0)">Item's title</a></h2>

                    <p>
                        <b>Item's description:</b> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
                        eiusmod
                        tempor
                        incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                        ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.
                    </p>
                </div>
            </li>
            <li class="col-sm-4">
                <div class="col-md-4">
                    <a href="javascript:void(0)"><img src="assets/img/04.jpg" alt="" class="img-responsive"></a>
                </div>

                <div class="col-md-8">
                    <h2><a href="javascript:void(0)">Item's title</a></h2>

                    <p>
                        <b>Item's description:</b> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
                        eiusmod
                        tempor
                        incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                        ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.
                    </p>
                </div>
            </li>
            <li class="col-sm-4">
                <div class="col-md-4">
                    <a href="javascript:void(0)"><img src="assets/img/05.jpg" alt="" class="img-responsive"></a>
                </div>

                <div class="col-md-8">
                    <h2><a href="javascript:void(0)">Item's title</a></h2>

                    <p>
                        <b>Item's description:</b> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
                        eiusmod
                        tempor
                        incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                        ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.
                    </p>
                </div>
            </li>
            <li class="col-sm-4">
                <div class="col-md-4">
                    <a href="javascript:void(0)"><img src="assets/img/06.jpg" alt="" class="img-responsive"></a>
                </div>

                <div class="col-md-8">
                    <h2><a href="javascript:void(0)">Item's title</a></h2>

                    <p>
                        <b>Item's description:</b> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
                        eiusmod
                        tempor
                        incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                        ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.
                    </p>
                </div>
            </li>
        </ul>
        <!-- / Featured Products list with thumbnails and description  -->
    </div>

    </div>

    <div id="resultsDiv" style = "display:none">

        <div id="results"></div>
        <script type="text/javascript">ajax_get_json();</script>


    </div>

    <!-- Footer -->
    <footer class="text-center">
        <br/>
        <a href="javascript:void(0)">Home</a> |
        <a href="javascript:void(0)">Search</a> |
        <a href="javascript:void(0)">About Us</a> |
        <a href="javascript:void(0)">Terms of Service</a>
        <br/><br/>
    </footer>
    <!-- / Footer -->

</div>

<script type="text/javascript">

    function hideshow(text1, text2){
        if (!document.getElementById)
            return
        if (text1.style.display=="block"){
            text1.style.display="none"
            text2.style.display="block"}
        else {
            text1.style.display="block"
            text2.style.display="none"}
    }
</script>
<script src="assets/js/jquery-2.1.0.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>

</body>
</html>